<!doctype html>
<html lang="en">

<head>
  <base href="/" />
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/favicon-new.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100..900;1,100..900&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
    rel="stylesheet" />
  <script src="/node_modules/ace-builds/src-min-noconflict/ace.js" type="module"></script>
  <title>Langflow</title>
</head>

<body id="body" class="dark" style="width: 100%; height: 100%">
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div style="width: 100vw; height: 100vh" id="root"></div>
  <script type="module" src="/src/index.tsx"></script>
  <script>
    // localStorage.setItem('testing app status',true)
  </script>
  <script>
    // sessionStorage.setItem('working',true)
    // localStorage.setItem('working',true)

    // function handleLoginPath(){
    //   if (window.location.pathname.startsWith("/login")) {
    //     history.replaceState(null, "", "/login");
    //   }
    // }
    // Listen for messages from the parent
    window.addEventListener("message", (event) => {
      // if (event.origin !== "http://localhost:3000") {
      //   return;
      // }

      // if (event.data?.textFirst || event.data?.textSecond) {
      //   setInputState((prev) => ({
      //     ...prev,
      //     username: event.data.textFirst || prev.username,
      //     password: event.data.textSecond || prev.password,
      //   }));
      // }

      // document.querySelector('input[name="username"]').value = 'sampleUsername';
      // document.querySelector('input[type="password"]').value = 'samplePassword';

      // const usernameField = document.querySelector("input[name='username']");
      // const passwordField = document.querySelector("input[type='password']");
      // if (usernameField && passwordField) {
      //     usernameField.value = event.data.textFirst;
      //     passwordField.value = event.data.textSecond;

      //     localStorage.setItem('lflusr',event.data.textFirst)
      //     localStorage.setItem('lflpwd',event.data.textSecond)

      //     // Dispatch input events to notify React of changes
      //     // usernameField.dispatchEvent(new Event('input', { bubbles: true }));
      //     // passwordField.dispatchEvent(new Event('input', { bubbles: true }));
      //     // document.querySelector('input[name="username"]').value = event.data.textFirst;
      //     // document.querySelector('input[type="password"]').value = event.data.textSecond;
          
      //     // clearInterval(interval);
      //   }

      // console.log('Message Object: ',event.data)
      // console.log('Name: ',event.data.textFirst)
      // console.log('Password: ',event.data.textSecond)

      sessionStorage.setItem('lflusr',`${event.data.textFirst}`)
      sessionStorage.setItem('lflpwd',`${event.data.textSecond}`)
      
      // localStorage.setItem('lflusr',`${event.data.textFirst}`)
      // localStorage.setItem('lflpwd',`${event.data.textSecond}`)

      if (event.source) {
        event.source.postMessage(
          {
            action: "acknowledge",
            // data: `Received: ${event.data.textFirst} ${event.data.textSecond}`,
            data: "Message received"
          },
          { targetOrigin: "*" },
        );
      }

      // handleLoginPath()
    });
      // Respond to the parent
    //   event.source.postMessage({ action: "acknowledge", data: "Message received!" }, event.origin);
    // });
  </script>
</body>

</html>